<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Panel Administratora</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
  <style>
    :root {
      --primary: #3a86ff;
      --secondary: #2667cc;
      --accent: #4cc9f0;
      --danger: #ff4d6d;
      --success: #52b788;
      --warning: #ff9e00;
      --light: #f8f9fa;
      --dark: #212529;
      --gray: #6c757d;
      --bg-gradient: linear-gradient(135deg, #3a86ff 0%, #2667cc 100%);
    }

    * {
      box-sizing: border-box;
      transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
    }

    body {
      font-family: 'Inter', sans-serif;
      margin: 0;
      padding: 0;
      background: var(--bg-gradient);
      display: flex;
      flex-direction: column;
      align-items: center;
      min-height: 100vh;
      color: var(--dark);
      line-height: 1.6;
    }

    .content-wrapper {
      width: 90%;
      max-width: 1000px;
      margin: 20px 0;
      animation: fadeIn 0.8s ease-out;
    }

    section {
      margin-bottom: 30px;
      padding: 25px;
      background: rgba(255, 255, 255, 0.95);
      border-radius: 16px;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.15);
      backdrop-filter: blur(10px);
      border: 1px solid rgba(255,255,255,0.2);
    }

    input, select {
      margin: 8px 0;
      padding: 12px 15px;
      width: 100%;
      border: 2px solid #e9ecef;
      border-radius: 12px;
      font-size: 16px;
      background: white;
      transition: all 0.2s;
    }

    input:focus, select:focus {
      outline: none;
      border-color: var(--accent);
      box-shadow: 0 0 0 4px rgba(76, 201, 240, 0.3);
      transform: translateY(-2px);
    }

    button {
      margin: 8px 5px;
      padding: 12px 20px;
      background-color: var(--primary);
      color: white;
      font-weight: 600;
      border: none;
      border-radius: 12px;
      cursor: pointer;
      letter-spacing: 0.5px;
      transition: all 0.3s;
    }

    button:hover {
      background-color: var(--secondary);
      transform: translateY(-2px);
      box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
    }

    button:active {
      transform: translateY(0);
    }

    .danger-btn {
      background-color: var(--danger);
    }

    .success-btn {
      background-color: var(--success);
    }

    .warning-btn {
      background-color: var(--warning);
    }

    .accent-btn {
       background-color: var(--accent);
}

    table {
      border-collapse: collapse;
      width: 100%;
      margin: 15px 0;
      border-radius: 12px;
      overflow: hidden;
      box-shadow: 0 2px 10px rgba(0, 0, 0, 0.05);
      animation: fadeIn 0.5s ease-out;
    }

    th, td {
      padding: 12px 15px;
      border: 1px solid #e9ecef;
      text-align: left;
    }

    th {
      background-color: var(--primary);
      color: white;
      font-weight: 600;
    }

    tr:nth-child(even) {
      background-color: #f8f9fa;
    }

    h2, h3 {
      text-align: center;
      margin: 10px 0;
    }

    h2 {
      font-size: 28px;
      font-weight: 700;
      margin-bottom: 20px;
      background: linear-gradient(90deg, var(--primary), var(--secondary));
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
    }

    h3 {
      font-size: 22px;
      font-weight: 600;
      margin: 25px 0 15px;
      color: var(--secondary);
    }

    #logo {
      max-width: 350px;
      width: 90%;
      margin: 30px 0 20px;
      filter: drop-shadow(0 4px 6px rgba(0,0,0,0.1));
      animation: floating 3s ease-in-out infinite;
    }

    .form-group {
      margin-bottom: 15px;
    }

    label {
      font-weight: 500;
      display: block;
      margin-bottom: 5px;
      color: var(--dark);
    }

    .ripple {
      position: relative;
      overflow: hidden;
    }

    .ripple:after {
      content: "";
      display: block;
      position: absolute;
      width: 100%;
      height: 100%;
      top: 0;
      left: 0;
      pointer-events: none;
      background-image: radial-gradient(circle, #fff 10%, transparent 10.01%);
      background-repeat: no-repeat;
      background-position: 50%;
      transform: scale(10, 10);
      opacity: 0;
      transition: transform .5s, opacity 1s;
    }

    .ripple:active:after {
      transform: scale(0, 0);
      opacity: 0.3;
      transition: 0s;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }

    @keyframes floating {
      0% { transform: translateY(0px); }
      50% { transform: translateY(-10px); }
      100% { transform: translateY(0px); }
    }

    .slide-in {
      animation: slideIn 0.5s forwards;
    }

    @keyframes slideIn {
      from { opacity: 0; transform: translateX(50px); }
      to { opacity: 1; transform: translateX(0); }
    }

    /* Custom scrollbar */
    ::-webkit-scrollbar {
      width: 8px;
    }

    ::-webkit-scrollbar-track {
      background: #f1f1f1;
      border-radius: 10px;
    }

    ::-webkit-scrollbar-thumb {
      background: var(--primary);
      border-radius: 10px;
    }

    ::-webkit-scrollbar-thumb:hover {
      background: var(--secondary);
    }

    .notification {
      position: fixed;
      top: 20px;
      left: 50%;
      transform: translateX(-50%);
      padding: 15px 25px;
      border-radius: 8px;
      box-shadow: 0 4px 20px rgba(0,0,0,0.15);
      z-index: 1000;
      display: flex;
      align-items: center;
      gap: 10px;
      color: white;
      animation: fadeIn 0.3s ease-out;
    }

    .notification.success {
      background-color: var(--success);
    }

    .notification.error {
      background-color: var(--danger);
    }

    .notification.warning {
      background-color: var(--warning);
    }
  </style>
</head>
<body>
  <img id="logo" src="images/logo.png" alt="Logo" class="animate__animated animate__fadeInDown" />

  <div class="content-wrapper">
    <!-- Logowanie -->
    <section id="login-section" class="animate__animated animate__fadeIn">
      <h2>Logowanie administratora</h2>
      <div class="form-group">
        <input type="text" id="admin-login" placeholder="Login" class="slide-in" style="animation-delay: 0.1s" />
      </div>
      <div class="form-group">
        <input type="password" id="admin-password" placeholder="Hasło" class="slide-in" style="animation-delay: 0.2s" />
      </div>
      <button onclick="login()" class="ripple slide-in" style="animation-delay: 0.3s">Zaloguj</button>
    </section>

    <!-- Panel admina -->
    <section id="admin-panel" style="display: none;">
      <h2>Witaj w panelu administratora * <span id="admin-name"></span> * </h2>
      <button onclick="logout()" class="ripple danger-btn" style="margin: 10;">Wyloguj</button>

      <!-- Zarządzanie użytkownikami -->
      <section class="animate__animated animate__fadeIn">
        <h3>Dodaj nowego użytkownika</h3>
        <div class="form-group">
          <input type="text" id="new-username" placeholder="Numer RCP" />
        </div>
        <div class="form-group">
          <input type="password" id="new-password" placeholder="Hasło" />
        </div>
        <div class="form-group">
          <input type="text" id="new-user-code" placeholder="Imię i nazwisko użytkownika" />
        </div>
        <div class="form-group">
          <select id="new-role">
            <option value="user">Użytkownik</option>
            <option value="admin">Administrator</option>
          </select>
        </div>
        <button onclick="addUser()" class="ripple success-btn">Dodaj użytkownika</button>
      </section>

      <section id="user-list-section" class="animate__animated animate__fadeIn">
  	<h3>Lista użytkowników</h3>
  	<button onclick="fetchUsers()" class="ripple">Pokaż użytkowników</button>
  	<div id="user-list"></div>
	</section>

<section id="messages" class="animate__animated animate__fadeIn">
<h3>Edytuj komunikat logowania</h3>
<textarea id="messageText" rows="4" cols="50"></textarea><br>
<button onclick="updateLoginMessage()">Zapisz komunikat</button>
<div id="saveMsg" style="color: green;"></div>


</section>



      <!-- Zarządzanie menu -->
      <section class="animate__animated animate__fadeIn">
  <h3>Dodaj danie do menu</h3>
  <div class="form-group">
    <input type="text" id="dish-name" placeholder="Nazwa" />
  </div>
  <div class="form-group">
    <input type="text" id="dish-description" placeholder="Opis" />
  </div>
  <div class="form-group">
    <input type="number" id="dish-price" placeholder="Cena" step="1" />
  </div>
  <div class="form-group">
    <select id="dish-day">
      <option value="Poniedziałek">Poniedziałek</option>
      <option value="Wtorek">Wtorek</option>
      <option value="Środa">Środa</option>
      <option value="Czwartek">Czwartek</option>
      <option value="Piątek">Piątek</option>
    </select>
  </div>
  <button onclick="addDish()" class="ripple success-btn">Dodaj danie</button>
</section>

      <section class="animate__animated animate__fadeIn">
        <h3>Aktualne menu</h3>
        <div id="menu-list"></div>
      </section>

     <!-- W sekcji Zamówienia -->
	<section class="animate__animated animate__fadeIn">
 	 <h3>Zamówienia</h3>
 	 <div style="display: flex; gap: 10px; margin-bottom: 15px;">
 	   <button id="load-orders-button" onclick="fetchOrders()" class="ripple">Załaduj zamówienia</button>
  	  <button id="delete-selected-orders" onclick="deleteSelectedOrders()" class="ripple danger-btn" style="display: none;">Usuń wybrane</button>
  	</div>
	  <div id="order-list"></div>
	</section>

      <!-- Eksport do Excela -->
      <section class="animate__animated animate__fadeIn">
  <h3>Raport zamówień</h3>
  <div style="display: flex; gap: 10px;">
    <button onclick="downloadExcel()" class="ripple warning-btn">Pobierz raport Excel</button>
    <button onclick="downloadPDF()" class="ripple success-btn">Pobierz raport PDF</button>
    <button onclick="downloadERP()" class="ripple">Pobierz raport ERP</button>
    <button onclick="downloadDishesReport()" class="ripple accent-btn">Pobierz raport dań</button>
    <button onclick="downloadWordMailMerge()" class="ripple accent-btn">Pobierz do Word (korespondencja)</button>
  </div>
</section>

  <script src="admin.js"></script>
</body>
</html>